"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var xstream_1 = require("xstream");
var adapt_1 = require("@cycle/run/lib/adapt");
var Notification = require('react-native-android-local-notification');
function notificationDriver(cmd$) {
    cmd$.addListener({
        next: function (cmd) {
            if (!cmd.type || cmd.type === 'create') {
                Notification.create(cmd);
            }
            if (cmd.type === 'delete') {
                Notification.delete(cmd.id);
            }
            if (cmd.type === 'deleteAll') {
                Notification.deleteAll();
            }
            if (cmd.type === 'clear') {
                Notification.clear(cmd.id);
            }
            if (cmd.type === 'clearAll') {
                Notification.clearAll();
            }
        },
    });
    return adapt_1.adapt(xstream_1.default.create({
        start: function (listener) {
            Notification.addListener('press', function (ev) {
                listener.next(ev);
            });
        },
        stop: function () {
            Notification.removeAllListeners('press');
        },
    }));
}
exports.notificationDriver = notificationDriver;
//# sourceMappingURL=index.js.map